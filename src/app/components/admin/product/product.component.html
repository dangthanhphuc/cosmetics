<div class="product-container">
  <h1>Quản lý sản phẩm</h1>
  <button
    type="button"
    class="btn btn-add"
    data-bs-toggle="modal"
    data-bs-target="#addProductModal"
  >
    Thêm sản phẩm
  </button>

  <div
    class="modal fade"
    id="addProductModal"
    tabindex="-1"
    aria-labelledby="addProductModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title w-100" id="addProductModalLabel">
            Thêm sản phẩm
          </h1>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <form id="addProductForm">
            <div class="mb-3">
              <label for="productName" class="form-label">Tên sản phẩm</label>
              <input
                type="text"
                class="form-control"
                id="productName"
                name="name"
                placeholder="Nhập tên sản phẩm"
                required
              />
            </div>
            <div class="mb-3">
              <label for="productPrice" class="form-label">Giá</label>
              <input
                type="number"
                step="0.01"
                class="form-control"
                id="productPrice"
                name="price"
                placeholder="Nhập giá sản phẩm"
                required
              />
            </div>
            <div class="mb-3">
              <label for="productDescription" class="form-label">Mô tả</label>
              <textarea
                class="form-control"
                id="productDescription"
                name="description"
                rows="3"
                placeholder="Nhập mô tả sản phẩm"
                required
              ></textarea>
            </div>
            <div class="mb-3">
              <label for="productOrigin" class="form-label">Xuất xứ</label>
              <select
                class="form-select"
                id="productOrigin"
                name="origin"
                required
              >
                <option value="" selected disabled>Chọn xuất xứ</option>
                <option value="VN">Việt Nam</option>
                <option value="CN">Trung Quốc</option>
                <option value="JP">Nhật Bản</option>
                <option value="US">Mỹ</option>
                <option value="TW">Đài Loan</option>
                <option value="KR">Hàn Quốc</option>
              </select>
            </div>
            <div class="mb-3">
              <label for="categoryId" class="form-label">Danh mục</label>
              <select
                class="form-select"
                id="categoryId"
                name="category_id"
                required
              >
                <option value="" selected disabled>Chọn danh mục</option>
              </select>
            </div>
            <div class="mb-3">
              <label for="brandId" class="form-label">Thương hiệu</label>
              <select class="form-select" id="brandId" name="brand_id" required>
                <option value="" selected disabled>Chọn thương hiệu</option>
              </select>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal"
          >
            Đóng
          </button>
          <button type="submit" form="addProductForm" class="btn btn-warning">
            Lưu sản phẩm
          </button>
        </div>
      </div>
    </div>
  </div>

  <table class="product-table">
    <thead>
      <tr>
        <th>Tên sản phẩm</th>
        <th>Giá</th>
        <th>Thương hiệu</th>
        <th>Danh mục</th>
        <th>Xuất xứ</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let product of products">
        <td>{{ product.name }}</td>
        <td>{{ product.price.toLocaleString("vi") }} đ</td>
        <td>{{ product.brand }}</td>
        <td>{{ product.category }}</td>
        <td>{{ product.origin }}</td>
        <td class="d-flex justify-content-center">
          <button class="btn">
            <i class="bi bi-ticket-detailed text-primary fs-4"></i>
          </button>
          <button
            type="button"
            class="btn btn-edit"
            data-bs-toggle="modal"
            data-bs-target="#updateProductModal"
          >
            <i class="bi bi-pencil-square fs-4"></i>
          </button>

          <div
            class="modal fade"
            id="updateProductModal"
            tabindex="-1"
            aria-labelledby="updateProductModalLabel"
            aria-hidden="true"
          >
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h1 class="modal-title w-100" id="updateProductModalLabel">
                    Cập nhật sản phẩm
                  </h1>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>
                <div class="modal-body">
                  <form id="updateProductForm">
                    <div class="mb-3">
                      <label for="productName" class="form-label"
                        >Tên sản phẩm</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="productName"
                        name="name"
                        placeholder="Nhập tên sản phẩm"
                        required
                        value="{{ product.name }}"
                      />
                    </div>
                    <div class="mb-3">
                      <label for="productPrice" class="form-label">Giá</label>
                      <input
                        type="number"
                        step="0.01"
                        class="form-control"
                        id="productPrice"
                        name="price"
                        placeholder="Nhập giá sản phẩm"
                        required
                        value="{{ product.price }}"
                      />
                    </div>
                    <div class="mb-3">
                      <label for="productDescription" class="form-label"
                        >Mô tả</label
                      >
                      <textarea
                        class="form-control"
                        id="productDescription"
                        name="description"
                        rows="3"
                        placeholder="Nhập mô tả sản phẩm"
                        required
                        >{{ product.description }}</textarea
                      >
                    </div>
                    <div class="mb-3">
                      <label for="productOrigin" class="form-label"
                        >Xuất xứ</label
                      >
                      <select
                        class="form-select"
                        id="productOrigin"
                        name="origin"
                        required
                        value=""
                      >
                        <option value="" selected disabled>Chọn xuất xứ</option>
                        <option value="VN">Việt Nam</option>
                        <option value="CN">Trung Quốc</option>
                        <option value="JP">Nhật Bản</option>
                        <option value="US">Mỹ</option>
                        <option value="TW">Đài Loan</option>
                        <option value="KR">Hàn Quốc</option>
                      </select>
                    </div>
                    <div class="mb-3">
                      <label for="categoryId" class="form-label"
                        >Danh mục</label
                      >
                      <select
                        class="form-select"
                        id="categoryId"
                        name="category_id"
                        required
                        value=""
                      >
                        <option value="" selected disabled>
                          Chọn danh mục
                        </option>
                      </select>
                    </div>
                    <div class="mb-3">
                      <label for="brandId" class="form-label"
                        >Thương hiệu</label
                      >
                      <select
                        class="form-select"
                        id="brandId"
                        name="brand_id"
                        required
                        value=""
                      >
                        <option value="" selected disabled>
                          Chọn thương hiệu
                        </option>
                      </select>
                    </div>
                  </form>
                </div>
                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn bg-secondary text-white"
                    data-bs-dismiss="modal"
                  >
                    Đóng
                  </button>
                  <button
                    type="submit"
                    form="updateProductForm"
                    class="btn bg-success text-white"
                  >
                    Lưu
                  </button>
                </div>
              </div>
            </div>
          </div>

          <button
            type="button"
            class="btn btn-primary"
            data-bs-toggle="modal"
            data-bs-target="#exampleModal"
          >
            <i class="bi bi-trash3 fs-4"></i>
          </button>
          <div
            class="modal fade"
            id="exampleModal"
            tabindex="-1"
            aria-labelledby="exampleModalLabel"
            aria-hidden="true"
          >
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h1 class="modal-title fs-5" id="exampleModalLabel">
                    Xóa sản phẩm
                  </h1>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>
                <div class="modal-body fs-6">
                  Bạn có chắc chắn muốn xóa sản phẩm này?
                </div>
                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn bg-secondary text-white"
                    data-bs-dismiss="modal"
                  >
                    Thoát
                  </button>
                  <button type="button" class="btn bg-danger text-white">
                    Xóa
                  </button>
                </div>
              </div>
            </div>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
</div>
