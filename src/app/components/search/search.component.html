<div class="py-2 d-flex justify-content-center">
    <div class="row search-page">
        <div class="col-3">
            <form>
                <div class="mb-3 py-3">
                    <h5>Giá</h5>
                    <div class="d-flex justify-content-between">
                        <div class="input-group">
                            <input type="number" class="form-control" placeholder="đ Từ" [(ngModel)]="minPrice" [ngModelOptions]="{ standalone: true }" />
                        </div>
                        <div class="input-group">
                            <input type="number" class="form-control" placeholder="đ Đến" [(ngModel)]="maxPrice" [ngModelOptions]="{ standalone: true }" />
                        </div>
                    </div>
                    <button class="btn btn-primary mt-3" (click)="applyPriceFilter()" [disabled]="minPrice <= 0 || maxPrice <= minPrice">
            Áp dụng
          </button>
                </div>

                <div class="mb-3">
                    <h5>Danh mục</h5>
                    @if(categories.length > 5) {
                    <div class="scrollable-list">
                        <div *ngFor="let category of categories" class="form-check ms-2">
                            <input type="checkbox" class="form-check-input" id="category-{{ category.id }}" [value]="category.id" (change)="onChangeFilter($event, category.id, 'category')" />
                            <label class="form-check-label" for="category-{{ category.id }}">{{
                          category.name
                          }}</label>
                        </div>
                    </div>
                    } @if(categories.length
                    <=5 ) { <div>
                        <div *ngFor="let category of categories" class="form-check">
                            <input type="checkbox" class="form-check-input" id="category-{{ category.id }}" [value]="category.id" (change)="onChangeFilter($event, category.id, 'category')" />
                            <label class="form-check-label" for="category-{{ category.id }}">{{
                          category.name
                          }}</label>
                        </div>
                </div>
                }

        </div>

        <div class="mb-3">
            <h5>Thương hiệu</h5>
            @if(brands.length > 5) {
            <div class="scrollable-list">
                <div *ngFor="let brand of brands" class="form-check">
                    <input type="checkbox" class="form-check-input" id="brand-{{ brand.id }}" [value]="brand.id" (change)="onChangeFilter($event, brand.id, 'brand')" />
                    <label class="form-check-label" for="brand-{{ brand }}">{{
                  brand.name
                  }}</label>
                </div>
            </div>
            } @if(brands.length
            <=5 ) { <div>
                <div *ngFor="let brand of brands" class="form-check">
                    <input type="checkbox" class="form-check-input" id="brand-{{ brand }}" [value]="brand" (change)="onChangeFilter($event, brand.id, 'brand')" />
                    <label class="form-check-label" for="brand-{{ brand }}">{{
                  brand.name
                  }}</label>
                </div>
        </div>
        }

    </div>

    <div class="mb-3">
        <h5>Xuất xứ</h5>
        @if(origins.length > 5) {
        <div class="scrollable-list">
            <div *ngFor="let origin of origins" class="form-check">
                <input type="checkbox" class="form-check-input" id="origin-{{ origin }}" [value]="origin" (change)="onChangeFilter($event, origin.toString(), 'origin')" />
                <label class="form-check-label" for="origin-{{ origin }}">{{
                  origin
                  }}</label>
            </div>
        </div>
        } @if (origins.length
        <=5 ) { <div>
            <div *ngFor="let origin of origins" class="form-check">
                <input type="checkbox" class="form-check-input" id="origin-{{ origin }}" [value]="origin" (change)="onChangeFilter($event, origin.toString(), 'origin')" />
                <label class="form-check-label" for="origin-{{ origin }}">{{
                  origin
                  }}</label>
            </div>
    </div>
    }

</div>
</form>
</div>

<div class="col ms-1 product-list">
    <div class="d-flex flex-wrap mt-3">
        @for (product of productsFilter; track product.id ) {
        <div [routerLink]="['/cosmetics', product.id]" routerLinkActive="router-link-active" class="text-center mb-4 bg-white rounded" style="width: calc(100% / 4 - 10px); margin: 0 5px">
            <app-card-item [cosmetic]="product"></app-card-item>
        </div>
        }
    </div>

</div>
</div>
</div>