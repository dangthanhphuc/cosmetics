<main class="register-page">
    <section class="register-container">
        <div class="register-tabs">
            <button [routerLink]="['/auth/login']" routerLinkActive="active" class="tab-button">Đăng nhập</button>
            <button [routerLink]="['/auth/register']" routerLinkActive="active" class="tab-button active">Đăng ký</button>
        </div>
        @if (typeAuth() == 'login') {
        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="register-form">
            <div class="form-group">
                <label for="email" class="visually-hidden">Nhập email</label>
                <input id="email-login" formControlName="email" type="email" placeholder="Nhập email" class="form-input" />
            </div>
            <div class="form-group">
                <label for="password" class="visually-hidden">Nhập mặt khẩu</label>
                <input id="password-login" formControlName="password" type="password" placeholder="Nhập mặt khẩu" class="form-input" [ngClass]="{'error-input': getFieldError('password')}" /> @if(getFieldError('password')) {
                <div class="error-message">
                    {{ getFieldError("password") }}
                </div>
                }
            </div>
            <button type="submit" class="custom-btn-primary" [disabled]="loginForm.invalid">
          Đăng nhập
        </button>
        </form>
        <div class="login-link">
            <span>Chưa có tài khoản?</span>
            <a [routerLink]="['/auth/register']" class="login-text">Đăng ký</a>
        </div>
        } @else if (typeAuth() == 'register') {
        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form">
            <div class="form-group">
                <label for="email" class="visually-hidden">Nhập email</label>
                <input id="email" formControlName="email" type="email" placeholder="Nhập email" class="form-input" />
            </div>
            <div class="form-group">
                <label for="password" class="visually-hidden">Nhập mặt khẩu</label>
                <input id="password" formControlName="password" type="password" placeholder="Nhập mặt khẩu" class="form-input" [ngClass]="{'error-input': getFieldError('password')}" /> @if(getFieldError('password')) {
                <div class="error-message">
                    {{ getFieldError("password") }}
                </div>
                }
            </div>
            <div class="form-group">
                <label for="confirmPassword" class="visually-hidden">Nhập lại mặt khẩu</label>
                <input id="confirmPassword" formControlName="confirmPassword" type="password" placeholder="Nhập lại mặt khẩu" class="form-input" [ngClass]="{'error-input': getFieldError('confirmPassword')}" /> @if(this.registerForm.hasError('passwordMismatch')
                || getFieldError('confirmPassword')) {
                <div class="error-message">Mật khẩu không khớp !</div>
                }
            </div>
            <div class="form-group">
                <label for="name" class="visually-hidden">Nhập tên</label>
                <input id="name" formControlName="name" type="text" placeholder="Nhập tên" class="form-input" [ngClass]="{'error-input': getFieldError('name')}" /> @if(getFieldError('name')) {
                <div class="error-message">
                    {{ getFieldError("name") }}
                </div>
                }
            </div>
            <button type="submit" class="custom-btn-primary" [disabled]="registerForm.invalid">
          Đăng ký
        </button>
        </form>
        <div class="login-link">
            <span>Đã có tài khoàn?</span>
            <a [routerLink]="['/auth/login']" class="login-text">Đăng nhập</a>
        </div>
        }

    </section>

</main>